# DsInspector

[English](README.md)|[ä¸­æ–‡](README_zh.md)

**DsInspectorï¼ˆDeveloper Support Inspectorï¼‰** æ˜¯ä¸€ä¸ªç”¨äº **Godot 4** çš„è¿è¡Œæ—¶è°ƒè¯•æ’ä»¶ï¼Œå…è®¸ä½ åœ¨æ¸¸æˆè¿è¡Œæ—¶å®æ—¶æŸ¥çœ‹å’Œä¿®æ”¹åœºæ™¯æ ‘ä¸­çš„èŠ‚ç‚¹å’Œå±æ€§ã€‚
å®ƒæä¾›ç±»ä¼¼äºç¼–è¾‘å™¨ Inspector çš„åŠŸèƒ½ï¼Œè®©å¼€å‘è€…åœ¨è°ƒè¯•å’Œæµ‹è¯•è¿‡ç¨‹ä¸­æ›´åŠ æ–¹ä¾¿ç›´è§‚ã€‚

![screenshot](addons/ds_inspector/icon/Icon.png)

ä½œè€…bilibbiliä¸»é¡µï¼šhttps://space.bilibili.com/259437820

## åŠŸèƒ½ç‰¹æ€§

* **å®æ—¶èŠ‚ç‚¹æ ‘æŸ¥çœ‹**ï¼šæ˜¾ç¤ºå½“å‰è¿è¡Œåœºæ™¯ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œå…è®¸é¼ æ ‡æ‹–æ‹½ç§»åŠ¨èŠ‚ç‚¹ä½ç½®ï¼Œä»…æ”¯æŒ2Dåœºæ™¯æ£€æŸ¥ï¼Œä¸æ”¯æŒ3Dåœºæ™¯ã€‚
* **èŠ‚ç‚¹å±æ€§æ£€æŸ¥**ï¼šæ”¯æŒæŸ¥çœ‹å’Œä¿®æ”¹èŠ‚ç‚¹çš„å±æ€§å€¼ï¼ˆåŒ…æ‹¬è„šæœ¬å¯¼å‡ºå˜é‡ï¼‰ï¼Œä¿®æ”¹å±æ€§åç«‹å³ç”Ÿæ•ˆï¼Œæ”¯æŒå±æ€§ç­›é€‰ï¼Œå¯ä»¥ä½¿ç”¨"|"æ¥æ‹†åˆ†å¤šä¸ªç­›é€‰æ¡ä»¶ã€‚
* **èŠ‚ç‚¹æœç´¢**ï¼šå¿«é€ŸæŸ¥æ‰¾ç›®æ ‡èŠ‚ç‚¹ã€‚
* **èŠ‚ç‚¹é€‰ä¸­é«˜äº®**ï¼šåœ¨æ¸¸æˆç”»é¢ä¸­å®šä½é€‰ä¸­çš„èŠ‚ç‚¹ï¼Œé€‰æ‹©â€œæ‹£é€‰èŠ‚ç‚¹â€åç‚¹å‡»åœºæ™¯å†…å…ƒç´ å³å¯é€‰æ‹©èŠ‚ç‚¹ï¼Œå¦‚æœå…ƒç´ å †å ï¼Œè¿ç»­ç‚¹å‡»å…ƒç´ å³å¯ä¾æ¬¡é€‰ä¸­èŠ‚ç‚¹ã€‚
* **è®°å½•èŠ‚ç‚¹å®ä¾‹**ï¼šæ‹–æ‹½èŠ‚ç‚¹æ”¾å…¥è®°å½•åŒºåŸŸï¼Œç‚¹å‡»è®°å½•çš„èŠ‚ç‚¹å¯ä»¥å¿«é€Ÿè·³è½¬ã€‚ä¸´æ—¶è®°å½•èŠ‚ç‚¹ï¼Œå½“èŠ‚ç‚¹é”€æ¯å°±ä¼šç§»é™¤è®°å½•ã€‚
* **æ”¶è—è·¯å¾„**ï¼šæ”¶è—æŒ‡å®šçš„è·¯å¾„ï¼Œæ°¸ä¹…ä¿å­˜ï¼Œç‚¹å‡»å¯ä»¥è·³è½¬åˆ°è¯¥è·¯å¾„çš„èŠ‚ç‚¹ã€‚
* **æ’é™¤è·¯å¾„**ï¼šè¿‡æ»¤æŒ‡å®šè·¯å¾„ï¼Œæ°¸ä¹…ä¿å­˜ï¼Œæ‹£é€‰æ—¶ä¸ä¼šé€‰ä¸­è¯¥è·¯å¾„ä¸‹çš„èŠ‚ç‚¹ã€‚
* **å•å¸§è¿è¡Œ**ï¼šæš‚åœæ¸¸æˆï¼Œå¹¶ä¸”ä¸€å¸§ä¸€å¸§è¿è¡Œæ¸¸æˆã€‚
* **æ‰“å¼€è„šæœ¬/åœºæ™¯è·¯å¾„**ï¼šåœ¨å±æ€§é¢æ¿ä¸­å¯å¿«é€Ÿæ‰“å¼€ç»‘å®šçš„è„šæœ¬æˆ–åœºæ™¯æ–‡ä»¶ï¼Œæ–¹ä¾¿å¿«é€Ÿç¼–è¾‘ã€‚
* **å°†èŠ‚ç‚¹ä¿å­˜ä¸ºåœºæ™¯**ï¼šæ”¯æŒå°†é€‰ä¸­çš„èŠ‚ç‚¹å¯¼å‡ºå¹¶ä¿å­˜ä¸ºæ–°çš„åœºæ™¯ï¼ˆä¾‹å¦‚ `.tscn`ï¼‰ï¼Œä¾¿äºå¤ç”¨å’Œå…±äº«ã€‚
* **åšå¼ŠæŒ‰é’®**ï¼šå¯ä»¥é€šè¿‡ `DsInspector.add_cheat_button()` å¿«é€Ÿæ·»åŠ åšå¼ŠæŒ‰é’®ã€‚
* **å¯¼å‡ºè‡ªåŠ¨å±è”½æ’ä»¶**ï¼šè¯¥æ’ä»¶ä»…åœ¨ç¼–è¾‘å™¨è¿è¡Œæ¸¸æˆæ—¶ç”Ÿæ•ˆï¼Œå¯¼å‡ºæ¸¸æˆåè‡ªåŠ¨å±è”½æ’ä»¶æ‰€æœ‰åŠŸèƒ½ï¼Œæ— éœ€åšé¢å¤–è®¾ç½®ã€‚
* **æ”¯æŒC#ç‰ˆæœ¬**ï¼šæ— éœ€é¢å¤–è®¾ç½®ï¼Œç›´æ¥å¯ä»¥å¯¼å…¥åˆ°C#ç‰ˆæœ¬å·¥ç¨‹ä¸­ï¼Œæ­£å¸¸è¯†åˆ«C#è„šæœ¬ã€`[export]`å±æ€§ã€‚
* **Godotç¼–è¾‘å™¨ä¸­è¿è¡Œæ’ä»¶**ï¼šå…è®¸å°†è¯¥æ’ä»¶è¿è¡Œåœ¨ç¼–è¾‘å™¨ä¸­ï¼Œå¯ç”¨äºå®æ—¶æŸ¥çœ‹ç¼–è¾‘å†…éƒ¨èŠ‚ç‚¹æ ‘ï¼Œå¼€å‘ç¼–è¾‘å™¨æ’ä»¶ä¸å†æ‘¸é»‘ï¼ˆè¯¥åŠŸèƒ½åœ¨3xç‰ˆæœ¬çš„æ’ä»¶æš‚ä¸æ”¯æŒï¼‰
* **å¤šè¯­è¨€æ”¯æŒ**ï¼šå¯ä»¥åœ¨è®¾ç½®ä¸­åˆ‡æ¢ï¼Œå½“å‰æ”¯æŒçš„è¯­è¨€åŒ…æ‹¬ï¼šç®€ä½“ä¸­æ–‡ (zh)ã€ç¹é«”ä¸­æ–‡ (zh_tw)ã€è‹±è¯­ (en)ã€è¥¿ç­ç‰™è¯­ (es)ã€æ—¥è¯­ (ja)ã€ä¿„è¯­ (ru)ã€‚

## æ”¯æŒç‰ˆæœ¬

æœ¬æ’ä»¶é’ˆå¯¹ Godot 4.2+ ç³»åˆ—å¼€å‘å’Œæµ‹è¯•ï¼Œä¸æ”¯æŒæ›´ä½ç‰ˆæœ¬ã€‚

å¦‚éœ€åœ¨Godot3xä¸­ä½¿ç”¨ï¼Œè¯·ä½¿ç”¨è¯¥ä»“åº“ï¼š
ğŸ‘‰ https://github.com/xlljc/DsInspector_GD3

## å®‰è£…æ–¹æ³•

1. å°†æœ¬ä»“åº“å…‹éš†ï¼Œå¹¶å°† `addons/` å¤åˆ¶åˆ°ä½ çš„ Godot å·¥ç¨‹çš„ `addons/` æ–‡ä»¶å¤¹ä¸‹ã€‚
2. åœ¨ `project.godot` ä¸­å¯ç”¨æ’ä»¶ï¼š

   * æ‰“å¼€ `Project > Project Settings > Plugins`
   * æ‰¾åˆ° `DsInspector` å¹¶å¯ç”¨
3. è¿è¡Œæ¸¸æˆåä¼šè‡ªåŠ¨å‡ºç°ä¸€ä¸ªæ‚¬æµ®çª—å£ï¼Œç‚¹å‡»æ‚¬æµ®çª—å£å³å¯æ‰“å¼€æ£€æŸ¥å™¨ã€‚
4. ä¹Ÿå¯ä»¥é€šè¿‡`é¡¹ç›®/å·¥å…·/DsInspector`ä¸‹é€‰é¡¹æŒ‡å®šæ˜¯å¦å…è®¸åœ¨ç¼–è¾‘å™¨æˆ–æ¸¸æˆä¸­ã€‚

![image4](docs/image4.png)

## é¢„è§ˆ

æ£€æŸ¥å™¨çª—å£

![img1](docs/img1.png)

![img2](docs/img2.png)

æ‹£é€‰åœºæ™¯ä¸­çš„ç‰©ä½“

![img3](docs/img3.png)

![preview2](docs/preview2.gif)![preview](docs/preview.gif)

æ‹£é€‰Godotç¼–è¾‘å™¨èŠ‚ç‚¹

![preview3](docs/preview3.gif)

## C#é¡¹ç›®

åœ¨C#é¡¹ç›®ä¸­ä½¿ç”¨ä½œå¼ŠæŒ‰é’®å¯ä»¥é€šè¿‡ä»¥ä¸‹åŒ…è£…ç±»

```c#
using Godot;

/// <summary>
/// æä¾›ä¸ DsInspector å•ä¾‹äº¤äº’çš„é™æ€æ–¹æ³•ï¼Œç”¨äºæ·»åŠ ä½œå¼ŠæŒ‰é’®ã€‚
/// è¯¥ç±»éœ€è¦åœ¨ SceneTree åˆå§‹åŒ–åä½¿ç”¨ï¼Œé€šè¿‡ <see cref="Init(SceneTree)"/> æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–ã€‚
/// </summary>
public static class CheatManager
{
    private static SceneTree _tree;
    private static Node _dsInspector;

    /// <summary>
    /// åˆå§‹åŒ–CheatManagerï¼Œä¼ å…¥SceneTreeå®ä¾‹
    /// </summary>
    public static void Init(SceneTree tree)
    {
        _tree = tree;
        _dsInspector = null;
    }

    private static Node GetDsInspector()
    {
        if (_tree == null)
        {
            GD.PrintErr("CheatManageræœªåˆå§‹åŒ–ï¼Œè¯·å…ˆè°ƒç”¨CheatManager.Init(SceneTree tree)");
            return null;
        }
        if (_dsInspector == null)
            _dsInspector = _tree.Root.GetNodeOrNull("DsInspector");
        return _dsInspector;
    }

    /// <summary>
    /// å‘DsInspectoræ·»åŠ ä½œå¼ŠæŒ‰é’®ï¼ˆè°ƒç”¨GDScriptå•ä¾‹æ–¹æ³•ï¼‰
    /// </summary>
    public static void AddCheatButton(string title, Node target, string method)
    {
        var dsInspector = GetDsInspector();
        if (dsInspector != null)
            dsInspector.Call("add_cheat_button", title, target, method);
    }

    /// <summary>
    /// å‘DsInspectoræ·»åŠ ä½œå¼ŠæŒ‰é’®ï¼ˆé€šè¿‡Callableï¼‰
    /// </summary>
    public static void AddCheatButtonCallable(string title, Callable callable)
    {
        var dsInspector = GetDsInspector();
        if (dsInspector != null)
            dsInspector.Call("add_cheat_button_callable", title, callable);
    }
}
```


## è®¸å¯è¯

æœ¬é¡¹ç›®ä½¿ç”¨ **MIT License**ã€‚
